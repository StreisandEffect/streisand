---
- block:
    - name: "Stat the Streisand SSH public key"
      stat:
        path: "{{ streisand_ssh_key }}"
      register: streisand_ssh_key_status
      changed_when: False
    - name: "Fail if the Streisand SSH public key doesn't exist"
      fail:
        msg: "The Streisand SSH public key \"{{ streisand_ssh_key }}\" does not exist."
      when: streisand_ssh_key_status.stat.exists == False

  rescue:
    - fail:
        msg: "Ensure you specified an existing SSH private key file (not public).\n Try using `ssh-keygen -i {{ streisand_ssh_key }} to generate your key if it does not exist\n"
