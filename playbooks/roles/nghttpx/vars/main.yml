---
nghttpx_path: "/etc/nghttpx"
nghttpx_config_file: "{{ nghttpx_path }}/nghttpx.conf"

nghttpx_days_valid: "1825"

# The package name list for Ubuntu 16.04 is from official README.
# But all we need is nghttpx, so we could drop some of them (commented out).
nghttpx_dependencies:
  - g++
  - make
  - binutils
  - autoconf
  - automake
  - autotools-dev
  - libtool
  - pkg-config
  - zlib1g-dev
  - libcunit1-dev
  - libssl-dev
  #- libxml2-dev
  - libev-dev
  #- libevent-dev
  #- libjansson-dev
  - libc-ares-dev
  - libjemalloc-dev
  - libsystemd-dev
  #- libspdylay-dev
  #- cython
  #- python3-dev
  #- python-setuptools
  - gnutls-bin  # certtool

# The author of nghttp2 project does not provide OpenPGP signatures. Using SHA-256 checksums.
nghttpx_version:                "1.24.0"
nghttpx_compilation_directory:  "/usr/local/src/nghttp2-{{ nghttpx_version }}"
nghttpx_source_filename:        "nghttp2-{{ nghttpx_version }}.tar.xz"
nghttpx_source_checksum:        "sha256:0d443cd2f45593aa42e93163cb46a03cb4a28703712a8dd8cc9102d454727316"

nghttpx_download_url: "https://github.com/nghttp2/nghttp2/releases/download/v{{ nghttpx_version }}/{{ nghttpx_source_filename }}"

nghttpx_source_location: "/usr/local/src/{{ nghttpx_source_filename }}"

nghttpx_pid_file:    "/var/run/nghttpx.pid"

nghttpx_ca_certificate_file: "{{ nghttpx_path }}/ca-cert.pem"
nghttpx_ca_key_file:         "{{ nghttpx_path }}/ca-key.pem"
nghttpx_ca_template_file:    "{{ nghttpx_path }}/ca.tmpl"

nghttpx_server_certificate_file: "{{ nghttpx_path }}/server-cert.pem"
nghttpx_server_key_file:         "{{ nghttpx_path }}/server-key.pem"
nghttpx_server_template_file:    "{{ nghttpx_path }}/server.tmpl"

nghttpx_client_name:             "streisand-openconnect-{{ streisand_ipv4_address }}"
nghttpx_client_certificate_file: "{{ nghttpx_path }}/client-cert.pem"
nghttpx_client_key_file:         "{{ nghttpx_path }}/client-key.pem"
nghttpx_client_template_file:    "{{ nghttpx_path }}/client.tmpl"
nghttpx_client_pkcs12_file:      "{{ nghttpx_path }}/client.p12"

nghttpx_hashed_password_file:  "{{ nghttpx_path }}/ocpasswd"
nghttpx_password_file:         "{{ nghttpx_path }}/nghttpx-password"
nghttpx_pkcs12_password_file:  "{{ nghttpx_path }}/nghttpx-pkcs12-password"

nghttpx_gateway_location: "{{ streisand_gateway_location }}/nghttpx"
