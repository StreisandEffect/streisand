# The State of Streisand - 2018

The need for censorship bypass tools has only grown in the four years since [Joshua Lund](https://missingm.co/) created [Streisand](https://github.com/StreisandEffect/streisand), a DIY tool for censorship evasion named for the [Streisand Effect](https://en.wikipedia.org/wiki/Streisand_effect) that inspired its creation. In the face of increased government crackdowns on a free Internet, the Streisand project & its contributors remain committed to empowering individuals with the tools they need to reach the unfiltered web, no matter the constraints of their home networks. We aim to serve the community with democratized devops for VPN services.

The past few months have seen a renewed energy within the project and it felt appropriate to summarize some of the recent changes and paint a picture of what’s to come. Be sure to follow us [@streisandvpn](https://twitter.com/streisandvpn) and subscribe to our [new announcements mailing list](https://lists.riseup.net/www/info/streisand) to catch future updates.

## What’s New

### Getting Organized

Streisand has grown beyond something that one developer can support. To help ensure the project remains sustainable we’re now operating out of [a Github organization (“StreisandEffect”)](https://github.com/StreisandEffect/streisand) instead of Joshua’s own account. The organization has a [small core group of active maintainers](https://github.com/StreisandEffect/streisand#core-contributors) and the bus-factor is now greater than one :-) The past month alone has seen contributions from 9 distinct authors. We’ve cleaned up over 8 pages of stale Github issues and have established a tag system for keeping things tidy moving forward. Open PRs are at an all-time low and we’ve established a good cadence for code reviews.

Using a Github organization has also enabled creating [a separate repository (“Streisand Discussions”)](https://github.com/StreisandEffect/streisand) for discussions, feature requests, & general support questions. Because the developers of Streisand collect no data about who uses Streisand, we greatly value hearing from our users about their experiences with the software. If you use Streisand we encourage you to share your thoughts by [opening a new issue in the discussions repository](https://github.com/StreisandEffect/discussions/issues/new).

### Lines of Communication

Streisand doesn’t collect any data on users or what services they use. We rely on bug reports and messages from the community to keep up to date on how Streisand is or isn’t meeting the requirements of its users.

To help keep communication flowing we have two new lines of communication:

1. A new Twitter account! Be sure to follow us [@streisandvpn](https://twitter.com/streisandvpn) 
1. A low-volume announcement-only mailing list: [https://lists.riseup.net/www/info/streisand](https://lists.riseup.net/www/info/streisand)

We encourage everyone to subscribe to one of the two above sources of information to be sure you hear about new Streisand releases, bugs, and security updates.

### Translations

While still in the early stages we’ve begun efforts to localize Streisand. In addition to English, the project [README](https://github.com/StreisandEffect/streisand/blob/master/README.md) is now available in [French (Français)](https://github.com/StreisandEffect/streisand/blob/master/README-fr.md), [Chinese (简体中文)](https://github.com/StreisandEffect/streisand/blob/master/README-chs.md), and [Russian (Русский)](https://github.com/StreisandEffect/streisand/blob/master/README-ru.md).

The detailed client VPN setup documentation generated by Streisand (and made accessible through a web portal) is key to helping users get started with a Streisand server. We’re excited about localizing this documentation and happy to announce it is now available in French (Français) in addition to English.

Helping with translations is a great way to contribute to Streisand and we have [a brief guide to doing so for interested helpers](https://github.com/StreisandEffect/streisand/blob/master/documentation/localization_howto.md).

Special thanks to @alimakki for laying the translation groundwork and for the FR translation, to @levleontiev for the RU translation, and to @HougeLangley for the CN translation.

### Modularity

A persistent point of feedback about the Streisand project has been that it installs a “kitchen sink” of software whose combined threat surface is unmanageable. Often this perspective is held by individuals with a different threat model & end goal in mind than what Streisand intends to address. There is truth in the criticism but the real world is seldom black and white.

Ultimately a diversity of tactics & technology is required to meet different user needs. Users on hostile networks often do not know apriori which software/options will work for their environment on any given day, and the censorship landscape shifts frequently and unexpectedly. A principled stance that only offers technology tailored to unfiltered North American internet connections does little for more marginalized users.

To strike a balance that also acknowledges use-cases that would prefer to deploy a VPN server with a reduced threat surface, we’ve completed [a large and intensive rework of the core VPN services in Streisand to support modularity](https://github.com/StreisandEffect/streisand/issues/746). It is now possible to pick and choose which services are deployed on a Streisand server. Deployed roles can be customized interactively at install time or pre-selected and used for many deployments using a single  site configuration file.

### New Provisioning Modes

In the four years since Streisand was announced the project has seen users adapt the included Ansible roles for a number of use-cases that weren’t met by the core project. One of the earliest examples of this was adapting Streisand to provision the same computer that Streisand is run on, instead of a new remote server. This deployment model worked well for users that couldn’t install Ansible on their laptops or who preferred having a self-contained Ubuntu 16.04 server that would bootstrap itself with Streisand.

Inspired by these creative modifications we’re happy to announce that we have added several new “advanced” deployment modes:

Localhost:

* Use Streisand to set up the machine it’s running on as a VPN server.

Existing Server:

* Use Streisand to set up an existing Ubuntu 16.04 cloud server. This allows Streisand to run on servers from a variety of cloud providers that Streisand does not support out of the box (It works great with [Vultr](https://www.vultr.com/) for example!).

Non-Interactive:

* Use Streisand without having to answer any prompts by editing a configuration file in advance. This can be great for programmatic or container-based usage. Thanks to @exratione for this feature.


### Let’s Encrypt Support

Previously, before users could access the password-protected HTTPS gateway website that Streisand created they were required to verify & import a self-signed root certificate. This is a tedious, security critical process that serves as a bumpy introduction to using a Streisand server.

Thanks to a community contribution we have added initial experimental support for using a browser-trusted [Let’s Encrypt](https://letsencrypt.org/) certificate for the gateway HTTPS server. During provisioning, the Streisand script will ask if you have a DNS name pointed at the Streisand instance and whether you would like to use Let’s Encrypt. 

Using Let’s Encrypt means that there is no need for users to install the self-signed CA to access the web portal and VPN documentation. Streisand ensures that the ACME client ([acmetool](https://github.com/hlandau/acme)) is set up to automatically renew the certificate every 90 days.

Special thanks to @wzyboy for his work adding this feature to Streisand and to the developers of acmetool for their excellent ACME client.

### Continuous Integration & Dev Tools

Bugs happen. Catching them as early as possible is the best way to keep Streisand reliable while we extend the project in new directions. There’s still a lot of work to do but we’ve made some great progress in automated testing.

There is now an [LXC-based](https://linuxcontainers.org/) continuous integration process running in [Travis CI](https://travis-ci.org/StreisandEffect/streisand). Shell-scripts are run through [Shellcheck](https://www.shellcheck.net/). Yaml files are run through [Yamllint](https://github.com/adrienverge/yamllint). We test a [matrix of enabled services during each CI run](https://github.com/StreisandEffect/streisand/blob/master/.travis.yml#L12:L19), including one task that enables/disables services at random. Every 24 hours, Travis tests the master branch and provisions an LXC container in the CI environment as a Streisand instance. This is also done for every pull request that is submitted to the repository.

We’ve begun the time-intensive process of writing end-to-end integration tests for the Streisand VPN services. These tests are written to bootstrap themselves as an end user would, by downloading configurations & secrets from the Streisand server’s gateway webpage. Each test checks that the documented profiles are provisioned correctly and clients can route traffic through the services. So far we have tests for Shadowsocks, WireGuard, OpenConnect, the Tor bridge and hidden service, and most of the OpenVPN client profiles.

Special thanks to @CorbanR for his work building Streisand’s initial Travis CI support.

### Other miscellaneous fixes & improvements

There are too many to name but here are some other quick highlights:

* [Specify your own SSH key](https://github.com/StreisandEffect/streisand/pull/970) - Streisand supports keys other than ~/.ssh/id-rsa! 
* [Vagrantfile](https://github.com/StreisandEffect/streisand/blob/master/Vagrantfile) - Convenient local development & testing
* Shadowsocks improvements - Modern [AEAD cipher server config](https://shadowsocks.org/en/spec/AEAD-Ciphers.html) & [SimpleObfs](https://github.com/shadowsocks/simple-obfs) support (Thanks @denoza)
* New [BIP0039](https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki) client names and generated passwords - Easier to remember, type, & share! Zany combinations! (Thanks @nopdotcom)
* Modernized OpenSSL configuration - Self-signed certificates now have much better compatibility with modern browsers. (Thanks again to @nopdotcom!)

## Roadmap

We’ve been busy but there’s always more work to be done. Here’s what we’re prioritizing for the next year presented in no particular order:

### Release Process/Management

It’s time to call the current code 0.0.1 and move to a fixed release cycle. Moving forward we will treat master as the development branch and cut tagged release at a fixed interval as features are completed. We’re still working out the specifics, input welcome!

### Addressing IPv6 Issues

Streisand was written entirely dependent on IPv4. Server-side services are not configured with IPv6 in mind and the generated client profiles also don’t address IPv6. In some rare conditions this may result in IPv6 traffic leaking outside of the VPN, and is certainly far from ideal. In the short term we plan to address any leaks that are discovered by null routing IPv6 where possible. In the long term we would _love_ for an IPv6-fluent community member to help us out. We could really use some outside expertise here, especially when dealing with a wide variety of server providers whose IPv6 support is often inconsistent or unavailable.

### Establishing a Streisand APT Repo

Streisand builds a handful of services from source (shadowsocks-libev for example) on the VPN server. Building and packaging this software in a centralized [Personal Package Archive (PPA)](https://help.launchpad.net/Packaging/PPA) will allow us to benefit from automatic security updates through APT and will make provisioning considerably faster.

### End-to-End Integration Testing

Untested code is broken code. We would like to see end-to-end integration testing of all of the major Streisand services run automatically on a fixed interval. This will extend the automated testing of setting up a Streisand server to ensure clients can also use that server as expected.

### README Cleanup

The README is a little bit cluttered and it’s time to focus on the information that’s most important, splitting the rest into separate documents. We’d also like to update our documentation with clearer terminology for the two roles involved in Streisand. The computer that runs Ansible is the Streisand “Builder”. The computer that is set up with the VPN services by the builder is the Streisand “Server”. With more provisioning modes, having a good mental model of Streisand is key to user success. 

### Streisand Builder Improvements

We’re working on improvements to make the Streisand builder usable with less hassle by more people. This means providing scripts for installing Ansible & its dependencies and exploring making Docker images available to run the builder. Some of this work will likely result in support for running the Streisand builder from Windows.

## Concluding Thoughts

Streisand’s power is in democratizing system administration knowledge & VPN software configuration using Ansible. Reducing the barrier of entry to running a VPN/censorship-bypass server for friends and family makes the unfiltered web available to more people. We encourage the system administrators and programmers of the world to consider how they can contribute to Streisand. We plan to continue to promote open lines of communication between the Streisand developers and the community (Follow our [Twitter account](https://twitter.com/streisandvpn)!, subscribe to our [new announcements mailing list!](https://lists.riseup.net/www/info/streisand)). There’s work to be done.

Silence censorship. Automate the effect.

Daniel McCarney / [@cpu](https://github.com/cpu)
2018-02-10
